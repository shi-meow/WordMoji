import"./modulepreload-polyfill-B5Qt9EMX.js";import{initCursor as E,addCursorHoverEffect as w}from"./cursor-CKUp-3ic.js";function P(){const a=document.body,y=50;for(let s=0;s<y;s++){const t=document.createElement("div");t.className="pixel-dust",t.style.left=`${Math.random()*100}vw`,t.style.top=`${Math.random()*100}vh`;const u=2+Math.random()*6;t.style.setProperty("--size",`${u}px`);const l=Math.random()*Math.PI*2,o=50+Math.random()*150;t.style.setProperty("--tx",`${Math.cos(l)*o}px`),t.style.setProperty("--ty",`${Math.sin(l)*o}px`);const d=10+Math.random()*20;t.style.animationDuration=`${d}s`,t.style.animationDelay=`-${Math.random()*d}s`,a.appendChild(t),t.addEventListener("animationend",()=>{t.remove(),a.appendChild(t)})}}const h=["ðŸŽ®","ðŸŽ²","ðŸŽ¯","ðŸŽª","ðŸŽ¨","ðŸŽ­","ðŸŽ³","ðŸŽ±","ðŸŽ°","ðŸŽ¼","ðŸŽµ","ðŸŽ¸","ðŸŒŸ","âœ¨","ðŸ’«","ðŸ”®","ðŸŽ©","ðŸŽ¬","ðŸŽ¤","ðŸŽ§","ðŸŽ¹","ðŸŽ»","ðŸŽº","ðŸŽ·","ðŸª©","ðŸŽª","ðŸŽ¡","ðŸŽ¢","ðŸŽ ","ðŸŽª"],C=60;let v=window.innerHeight/2;document.addEventListener("DOMContentLoaded",()=>{P();const a=document.querySelectorAll(".play-button, .emoji");w(a);const y=document.getElementById("launchScreen"),s=document.getElementById("loadingScreen"),t=document.getElementById("gameContainer"),u=document.getElementById("playButton");document.getElementById("gameFrame");const l=document.getElementById("loadingProgress");let o=!1;y.style.position="relative",u.style.zIndex="2";const d=i=>{const n=parseFloat(l.style.width)||0,r=500,m=performance.now(),c=e=>{const p=e-m,g=Math.min(p/r,1),M=(I=>1-Math.pow(1-I,3))(g),x=n+(i-n)*M;l.style.width=`${x}%`,g<1&&requestAnimationFrame(c)};requestAnimationFrame(c)};u.addEventListener("click",()=>{if(o)return;o=!0,launchScreen.style.display="none",s.style.display="flex",d(0);const i=document.querySelector(".custom-cursor");i&&i.remove(),E(),w([document.querySelector(".loading-emoji")]),document.addEventListener("mousemove",c=>{const e=document.querySelector(".custom-cursor");e&&(e.style.left=c.clientX+"px",e.style.top=c.clientY+"px")});const n=document.createElement("iframe");n.id="gameFrame",n.style.width="100%",n.style.height="100%",n.style.border="none",t.innerHTML="",t.appendChild(n);let r=0;const m=setInterval(()=>{r<90&&(r+=Math.random()*8+2,d(Math.min(90,r)))},300);setTimeout(()=>{n.src="game.html"},1e3),n.onload=()=>{n.contentWindow.initGame(),window.addEventListener("message",function c(e){e.data==="gameInitialized"&&(window.removeEventListener("message",c),clearInterval(m),d(100),setTimeout(()=>{o=!1,s.style.opacity="0",s.style.transition="opacity 0.5s ease-out",setTimeout(()=>{s.style.display="none",t.style.display="block",t.style.opacity="0",t.style.transition="opacity 0.8s ease-in",setTimeout(()=>{t.style.opacity="1"},50);const p=document.querySelector(".custom-cursor");p&&p.remove()},500)},500))})},n.onerror=()=>{clearInterval(m),o=!1,s.style.display="none",launchScreen.style.display="flex",alert("Failed to load the game. Please try again.")},setTimeout(()=>{o&&(clearInterval(m),o=!1,s.style.display="none",launchScreen.style.display="flex",alert("Loading took too long. Please try again."))},15e3)})});window.addEventListener("load",()=>{E(),S(),window.addEventListener("mousemove",a=>{v=a.clientY,f()}),window.addEventListener("resize",f)});function S(){const a=document.querySelector(".launch-container"),y=window.innerWidth/2,s=window.innerHeight/2,t=Math.min(window.innerWidth,window.innerHeight)*.4,u=2*Math.PI*t,l=Math.floor(u/C),o=h.slice(0,Math.min(l,h.length));a.querySelectorAll(".emoji").forEach(i=>i.remove()),o.forEach((i,n)=>{const r=n/o.length*Math.PI*2,m=y+Math.cos(r)*t,c=s+Math.sin(r)*t,e=document.createElement("div");e.className="emoji",e.textContent=i,e.style.opacity="0",e.style.left=`${m}px`,e.style.top=`${c}px`,e.style.transform="translate(-50%, -50%) scale(0.5)",e.style.transition="opacity 0.8s ease-in-out, transform 0.8s ease-in-out",a.appendChild(e),setTimeout(()=>{e.style.opacity="0.8",e.style.transform="translate(-50%, -50%) scale(1)",setTimeout(()=>{e.style.animation="pulse 2s infinite"},800)},n*300)})}function f(){const a=window.innerWidth/2,y=window.innerHeight/2,s=Math.min(window.innerWidth,window.innerHeight)*.35,t=Math.min(window.innerWidth,window.innerHeight)*.6,u=v/window.innerHeight,l=s+(t-s)*u,o=document.querySelector(".launch-container"),d=o.querySelectorAll(".emoji");d.forEach((i,n)=>{n>=h.length&&i.remove()}),h.forEach((i,n)=>{const r=n/h.length*Math.PI*2,m=a+Math.cos(r)*l,c=y+Math.sin(r)*l;let e=d[n];e||(e=document.createElement("div"),e.className="emoji",e.style.opacity="0",o.appendChild(e),setTimeout(()=>{e.style.opacity="0.8"},50)),e.textContent=i,e.style.left=`${m}px`,e.style.top=`${c}px`})}
